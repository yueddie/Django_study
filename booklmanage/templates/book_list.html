{% extends 'publisher_list.html' %}
{% block book_active %}
    active
{% endblock %}
{% block pub_active %}
{% endblock %}
{% block author_active %}
{% endblock %}
{% block main %}
    <h2 class="sub-header">书籍列表</h2>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>序号</th>
                <th>id</th>
                <th>书名</th>
                <th>出版社名称</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            {% for book in all_book %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ book.id }}</td>
                    <td>{{ book.name }}</td>
                    <td>{{ book.publisher.name }}</td>

                    <td>
                        <a class="btn-danger btn-sm" href="/book_del/?id={{ book.id }}">删除</a>
                        <a class="btn-primary btn-sm" href="/book_edit/?id={{ book.id }}">编辑</a>
                    </td>
                    {#                            <td>{{ forloop.counter }}</td>#}
                    {#                            <td>{{ book.0 }}</td>#}
                    {#                            <td>{{ book.1 }}</td>#}
                    {#                            <td>{{ book.2 }}</td>#}
                    {# 该段是django orm关系映射返回的对象解析，该断用于pymysql方式连接数据库返回的数据#}
                </tr>
            {% endfor %}
            </tbody>
        </table>
        <button><a href="/book_add/" style="text-decoration:none;color: black">新增</a></button>
    </div>
{% endblock %}